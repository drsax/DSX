<!DOCTYPE html>


<html>

<head>
    <meta charset="utf-8">
    <script src="cont/js/platform.js"></script>
    <link rel="import" href="cont/webcomponents/polymer.html">
    <link rel="import" href="cont/webcomponents/controls.html">


    <title>DrSax.js for Saxophone </title>

</head>


<body>


    <!-- main back ground image  -->

        <div id="img2" style="display:block; position:absolute; top: 0px; left :0px; z-index:0">
        <img id="img2" src="bg3.png" alt="Mountain View" style="width:1430px;height:800px;position:absolute;left:80px;top:20px"></div>



<!-- tunner  -->
<span id="note" style="color:white;position:absolute;left:712px;top:313px;font-size:35px;"></span>_ 
<div style="color:white;position:absolute;left:767px;top:313px;font-size:35px;"><span id="pitch" ></span>Hz</div>

    <!-- FFT frequrncy Domain Canvas  -->


    
        <canvas id="saxcanvas" style="position:absolute;left:237px;top:197px;width:520px;height:100px;" ></canvas>








    <!-- [no.1 layer left]  Saxophone Input area  -->

    <webaudio-knob id="sax__led_on" style="position:absolute;left:255px;top:70px " src="cont/img/led.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- blue light -->

    <webaudio-switch id="saxmic_on" style="position:absolute;left:235px;top:120px " src="cont/img/blueswitch.png" value="0" min="0" max="1" height="80" width="80"></webaudio-switch>  <!-- silver switch-->

    <webaudio-knob id="saxmic_gain" src="cont/img/bluedial.png" style="position:absolute;left:330px;top:80px " value="0.3" max="0.95" step="0.01" diameter="90" sprites="30"></webaudio-knob> <!-- blue Dial -->
 



                   <!--   sliver swtich area  -->

    <webaudio-switch id="switch3" style="position:absolute;left:430px;top:120px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch><!-- silver switch-->

    <webaudio-switch id="switch3" style="position:absolute;left:500px;top:120px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch><!-- silver switch-->

    <webaudio-switch id="switch1" style="position:absolute;left:570px;top:120px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch><!-- silver switch-->

    <webaudio-switch id="switch1" style="position:absolute;left:640px;top:120px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch><!-- silver switch-->

    <webaudio-switch id="switch1" style="position:absolute;left:710px;top:120px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch><!-- silver switch-->


   
    <webaudio-knob id="knob1" style="position:absolute;left:440px;top:70px " src="cont/img/led.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- blue light -->
    <webaudio-knob id="knob1" style="position:absolute;left:510px;top:70px " src="cont/img/led.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- blue light -->

    <webaudio-knob id="knob1" style="position:absolute;left:580px;top:70px " src="cont/img/led.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- blue light -->

    <webaudio-knob id="knob1" style="position:absolute;left:650px;top:70px " src="cont/img/led.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- blue light -->

    <webaudio-knob id="knob1" style="position:absolute;left:720px;top:70px " src="cont/img/led.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- blue light -->






<!-- [no.1 layer right]  Oscillator area  -->

    <webaudio-knob id="knob1" style="position:absolute;left:815px;top:70px " src="cont/img/led_23_red.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- red light -->

    <webaudio-switch id="switch3" style="position:absolute;left:795px;top:120px " src="cont/img/onoff.png" value="0" height="80" width="80"></webaudio-switch>  <!-- red switch-->

    <webaudio-knob id="knob1" src="cont/img/red.png" style="position:absolute;left:870px;top:70px " value="0" max="0.9" step="0.01" diameter="60" sprites="30"></webaudio-knob> <!-- red Dial -->
    
    <webaudio-knob id="knob1" src="cont/img/red.png" style="position:absolute;left:900px;top:140px " value="0" max="0.9" step="0.01" diameter="60" sprites="30"></webaudio-knob> <!-- red Dial -->




                 <!--  Oscillator area 2  -->

    <webaudio-knob id="knob1" style="position:absolute;left:990px;top:70px " src="cont/img/led_23_red.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- red light -->

    <webaudio-switch id="switch3" style="position:absolute;left:970px;top:120px " src="cont/img/onoff.png" value="0" height="80" width="80"></webaudio-switch>  <!-- red switch-->

    <webaudio-knob id="knob1" src="cont/img/red.png" style="position:absolute;left:1040px;top:70px " value="0" max="0.9" step="0.01" diameter="60" sprites="30"></webaudio-knob> <!-- red Dial -->
    
    <webaudio-knob id="knob1" src="cont/img/red.png" style="position:absolute;left:1070px;top:140px " value="0" max="0.9" step="0.01" diameter="60" sprites="30"></webaudio-knob> <!-- red Dial -->






                 <!--  Oscillator area 3  -->

    <webaudio-knob id="knob1" style="position:absolute;left:1155px;top:70px " src="cont/img/led_23_red.png" value="0" max="10" step="1" diameter="40" sprites="30"></webaudio-knob>  <!-- red light -->

    <webaudio-switch id="switch3" style="position:absolute;left:1135px;top:120px " src="cont/img/onoff.png" value="0" height="80" width="80"></webaudio-switch>  <!-- red switch-->

    <webaudio-knob id="knob1" src="cont/img/red.png" style="position:absolute;left:1200px;top:70px " value="0" max="0.9" step="0.01" diameter="60" sprites="30"></webaudio-knob> <!-- red Dial -->
    
    <webaudio-knob id="knob1" src="cont/img/red.png" style="position:absolute;left:1230px;top:140px " value="0" max="0.9" step="0.01" diameter="60" sprites="30"></webaudio-knob> <!-- red Dial -->









 <!-- [no.2 layer] Main text area -->

    <webaudio-switch id="switch3" style="position:absolute;left:245px;top:310px " src="cont/img/blueswitch.png" value="0" height="80" width="80"></webaudio-switch> <!-- blue switch-->




     <input type="file" id="mF" style="position:absolute;left:320px;top:305px">
    <br>
    <audio id="sound11" style="position:absolute;left:315px;top:330px " controls ></audio>







            <!--  silver swhitch  -->

    <webaudio-switch id="switch3" style="position:absolute;left:1000px;top:300px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch>

    <webaudio-switch id="switch1" style="position:absolute;left:1100px;top:300px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch>

    <webaudio-switch id="switch1" style="position:absolute;left:1200px;top:300px " src="cont/img/switch_toggle.png" value="0" max="1" width="60" height="60"></webaudio-switch>


        <!-- [no.3-1 layer]  left Main EQ mixer area -->


    <webaudio-switch id="eqbypass" style="position:absolute;left:160px;top:385px " src="cont/img/blue.png" value="0" height="50" width="50"></webaudio-switch>

  <webaudio-slider id="EQ1"  style="position:absolute;left:225px;top:390px" src="cont/img/s1.png"   knobsrc="cont/img/bb44.png"  value="-10" min="-20" max="20" step="1" width="40" height="110"  basewidth="40" baseheight="110" knobwidth="40" knobheight="40" ditchLength="90" tooltip="Frequency"></webaudio-slider>

  <webaudio-slider id="EQ2"  style="position:absolute;left:285px;top:390px" src="cont/img/s1.png"   knobsrc="cont/img/bb44.png" value="-10" min="-20" max="20" step="1" width="40" height="110"  basewidth="40" baseheight="110" knobwidth="40" knobheight="40" ditchLength="90" tooltip="Frequency"></webaudio-slider>


  <webaudio-slider id="EQ3"  style="position:absolute;left:345px;top:390px" src="cont/img/s1.png"   knobsrc="cont/img/bb44.png"  value="-10" min="-20" max="20" step="1" width="40" height="110"  basewidth="40" baseheight="110" knobwidth="40" knobheight="40" ditchLength="90" tooltip="Frequency"></webaudio-slider>


  <webaudio-slider id="EQ4"  style="position:absolute;left:405px;top:390px" src="cont/img/s1.png"   knobsrc="cont/img/bb44.png"  value="-10" min="-20" max="20"  step="1" width="40" height="110"  basewidth="40" baseheight="110" knobwidth="40" knobheight="40" ditchLength="90" tooltip="Frequency"></webaudio-slider>


  <webaudio-slider id="EQ5"  style="position:absolute;left:465px;top:390px" src="cont/img/s1.png"   knobsrc="cont/img/bb44.png" value="-10" min="-20" max="20"  step="1" width="40" height="110"  basewidth="40" baseheight="110" knobwidth="40" knobheight="40" ditchLength="90" tooltip="Frequency"></webaudio-slider>






   <!-- [no.3-2 layer]  center compressor mixer area -->



    <webaudio-switch id="compbypass" style="position:absolute;left:620px;top:380px " src="cont/img/blue.png" value="0" height="50" width="50"></webaudio-switch> <!-- blue led on/off-->


      <webaudio-knob id="Comp1" style=" position:absolute;left :640px;  top: 426px; " src="cont/img/cehi.png" value="-70" min="-100"  max="0" step="1" diameter="90" sprites="49"></webaudio-knob><!-- treshold-->
  
    <webaudio-knob id="Comp2" style=" position:absolute;left :720px;  top: 390px; " src="cont/img/cehi.png" value="-20" min="-40" max="0" step="1" diameter="70" sprites="49"></webaudio-knob><!-- reduction-->
  


    <webaudio-knob id="Comp5" style=" position:absolute;left :770px;  top: 450px; " src="cont/img/cehi.png" value="0" min="0"  max="1" step="0.01" diameter="70" sprites="49"></webaudio-knob><!-- attack-->
    <webaudio-knob id="Comp3" style=" position:absolute;left :820px;  top: 390px; " src="cont/img/cehi.png" value="0" max="40" step="1" diameter="70" sprites="49"></webaudio-knob><!-- knee-->


   <webaudio-knob id="Comp6" style=" position:absolute;left :870px;  top: 450px; " src="cont/img/cehi.png" value="0" min="0" max="1" step="0.01" diameter="70" sprites="49"></webaudio-knob><!-- release-->

   <webaudio-knob id="Comp4" style=" position:absolute;left :920px;  top: 390px; " src="cont/img/cehi.png" value="0" min="0" max="12" step="1" diameter="70" sprites="49"></webaudio-knob><!-- ratio-->



   <!-- [no.3-3 layer]   -->

    <webaudio-switch id="shiftAm" style="position:absolute;left:1090px;top:385px " src="cont/img/blue.png" value="0" height="50" width="50"></webaudio-switch>



    <webaudio-knob id="am2" style="position:absolute;left:1150px;top:400px " src="cont/img/kblack.png" value="0" max="5000" step="1" diameter="80" sprites="9"></webaudio-knob>
    <webaudio-knob id="am3" style="position:absolute;left:1250px;top:400px " src="cont/img/kblack.png" value="0" max="1" step="0.05" diameter="80" sprites="9"></webaudio-knob>
    <webaudio-knob id="am4" style="position:absolute;left:1350px;top:400px " src="cont/img/kblack.png" value="0" max="1" step="0.05" diameter="80" sprites="9"></webaudio-knob>










   <!-- [no.4-3 layer]  delay and reverb -->

       <webaudio-switch id="delaybypass" style="position:absolute;left:1090px;top:550px " src="cont/img/blue.png" value="0" height="50" width="50"></webaudio-switch>

    <webaudio-knob id="delay_time" style="position:absolute;left:1150px;top:570px " src="cont/img/3dd.png" value="0" min="0" max="1" step="0.01" diameter="60" sprites="100"></webaudio-knob>
    <webaudio-knob id="feed_back" style="position:absolute;left:1250px;top:570px " src="cont/img/3dd.png" value="0" min="0" max="1.0" step="0.01" diameter="60" sprites="100"></webaudio-knob>
    <webaudio-knob id="reverbtime" style="position:absolute;left:1350px;top:570px " src="cont/img/3dd.png" value="0" max="1" step="0.01" diameter="60" sprites="100"></webaudio-knob>








   <!-- [no.4-1 layer]   -->

    <webaudio-switch id="shiftbypass" style="position:absolute;left:160px;top:550px " src="cont/img/blue.png" value="0" height="50" width="50"></webaudio-switch>




    <webaudio-knob id="shift1" style=" position:absolute;left :200px;  top: 570px; " src="cont/img/dde.png" value="0" max="1" step="0.1" diameter="70" sprites="30"></webaudio-knob>
    <webaudio-knob id="shift2" style=" position:absolute;left :280px;  top: 570px; " src="cont/img/dde.png" value="0" max="2" step="0.1" diameter="70" sprites="30"></webaudio-knob>
    <webaudio-knob id="shift3" style=" position:absolute;left :360px;  top: 570px; " src="cont/img/dde.png" value="0" max="3" step="0.1" diameter="70" sprites="30"></webaudio-knob>
    <webaudio-knob id="shift4" style=" position:absolute;left :440px;  top: 570px; " src="cont/img/dde.png" value="0" max="4" step="0.1" diameter="70" sprites="30"></webaudio-knob>










    <!-- [no.5-2 paning ]   -->



    <webaudio-knob id="pann" style=" position:absolute;left :1150px;  top: 735px; " src="cont/img/dde.png" value="0" min="-1" max="1" step="0.1" diameter="70" sprites="30"></webaudio-knob>


    <!-- [no.5-2 panning ]   -->





    <!-- [no.5-3 main out dial ]   -->

    <webaudio-knob id="mainout_dail" style="position:absolute;left:1270px;top:700px" style="top:30px" src="cont/img/knoo.png" value="0" max="1" step="0.001" diameter="130" sprites="30"></webaudio-knob>

    <!-- [no.5-3 main out dial ]   -->






 


  <!----------------------------------------  -->



    <h1 id="text" style="position:absolute;left:300px;top:220px"> Dr.SAX.js.1.6.1.0 for Saxophone 
    </h1>

    <button class="button" style="position:absolute;left:767px;top:230px" onclick="text();">Talk</button>


    <h1 id="text" style="position:absolute;left:870px;top:220px"> Interactive web audio effects 
    </h1>









    <input type="range" class="ver" style="position:absolute;left:1150px;top:485px" id="ver" name="points" value="0" step="0.1" min="0" max="100">
    <input type="range" class="ver" style="position:absolute;left:1250px;top:485px" id="ver1" name="points" value="0" step="0.1" min="0" max="100">
    <input type="range" class="ver" style="position:absolute;left:1350px;top:485px" id="ver2" name="points" value="0" step="0.1" min="0" max="100">





    <input type="range" class="ver" style="position:absolute;left:209px;top:650px" id="ver" name="points" value="0" step="0.1" min="0" max="100">
    <input type="range" class="ver" style="position:absolute;left:309px;top:650px" id="ver1" name="points" value="0" step="0.1" min="0" max="100">
    <input type="range" class="ver" style="position:absolute;left:409px;top:650px" id="ver2" name="points" value="0" step="0.1" min="0" max="100">




    <input type="range" class="ver" style="position:absolute;left:1150px;top:650px" id="ver" name="points" value="0" step="0.1" min="0" max="100">
    <input type="range" class="ver" style="position:absolute;left:1250px;top:650px" id="ver1" name="points" value="0" step="0.1" min="0" max="100">
    <input type="range" class="ver" style="position:absolute;left:1350px;top:650px" id="ver2" name="points" value="0" step="0.1" min="0" max="100">




<!-- [keyboard layer center]  piano keyboard   -->
  
    <div id="myNav" class="overlay">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">close</a>
        <div class="overlay-content">
            <webaudio-keyboard id="key1" value="0" direction="" max="1000" step="1" keys="80" width="1350" height="150" style="display:inline-block;border:3px; margin:0px;"> </webaudio-keyboard>

        </div>



</div>
<!-- recording  bitton-->

<div style="position:absolute;left:650px;top:550px" >


    <button class="button" onclick="startRecording();">record</button>
    <button class="button" onclick="stopRecording();">stop</button>
    <button class="button" onclick="stop();">delete</button>

    <ul id="recordingslist"></ul>
</div>

<!-- recording  bitton-->



<!-- recording  -->

<style>
audio{ width:300px; height:30px; background:black; padding:5px; }


    
        
        ul li {
            list-style-type: none;
             color: black;
        }
        
        #recordingslist {
            padding-left: 0%;
            background-color:black; 
        }
        
        a {
            color: gray;
            text-decoration: none;
            font-size: 30px;
        }
    </style>

<!--  recording -->

<!-- [no.4 layer center]  audio player area  -->



    <style>
        div#canvas1>canvas {
            width: 190px;
            height: 70px;
            background: black;
            float: left;

        }
        /* vusual canvas */
    </style>



    <style>
        body {
            margin: 0;
            font-family: 'Lato', sans-serif;
        }
        
        .overlay {
            height: 30%;
            width: 0;
            position: fixed;
            z-index: 1;
            top: 600px;
            left: 0;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.9);
            overflow-x: hidden;
            transition: 0.5s;
        }
        
        .overlay-content {
            position: relative;
            top: 25%;
            width: 100%;
            text-align: center;
            margin-top: 30px;
        }
        
        .overlay a {
            padding: 8px;
            text-decoration: none;
            font-size: 36px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }
        
        .overlay a:hover,
        .overlay a:focus {
            color: #f1f1f1;
        }
        
        .closebtn {
            position: absolute;
            top: 20px;
            right: 45px;
            font-size: 30px !important;
        }
        
        @media screen and (max-height: 450px) {
            .overlay a {
                font-size: 20px
            }
            .closebtn {
                font-size: 40px !important;
                top: 15px;
                right: 35px;
            }
        }
    </style>

    <style>
    .ver {
            top: 40%;
            transform: rotate(270deg);
        }
        
        .ver {
            -webkit-appearance: none;
            margin: 10px;
            width: 20%;
        }
        
        .ver:focus {
            outline: none;
        }
        
        .ver::-webkit-slider-runnable-track {
            width: 100%;
            height: 3px;
            cursor: pointer;
            background: gray;
        }
        
        .ver::-webkit-slider-thumb {
            height: 20px;
            width: 15px;
            border-radius: 3px;
            background: black;
            cursor: pointer;
            -webkit-appearance: none;
            margin-top: -7.6px;
        }
    }
    </style>


    <style>
    body {
            background-color: black;
        }
        
        .ver {
            position: absolute;
            top: 40%;
            transform: rotate(270deg);
        }
        
        .ver {
            -webkit-appearance: none;
            margin: 10px;
            width: 35px;
        }
        
        .ver:focus {
            outline: none;
        }
        
        s .ver::-webkit-slider-runnable-track {
            width: 5px;
            height: 3px;
            cursor: pointer;
            background: gray;
        }
        
        .ver::-webkit-slider-thumb {
            height: 20px;
            width: 10px;
            border-radius: 3px;
            background: #50b4ff;
            cursor: pointer;
            -webkit-appearance: none;
            margin-top: -7.6px;
        }
    }
    </style>

    <style>
        .button {
            display: inline-block;
            padding: 10px 17px;
            font-size: 24px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            outline: none;
            color: white;
            background-color: black;
            border: none;
            border-radius: 15px;
            box-shadow: 0 9px #999;
        }
        
        .button:hover {
            background-color: #242424
        }
        
        .button:active {
            background-color: #484848;
            box-shadow: 0 5px #666;
            transform: translateY(4px);
        }


    </style>
   <script src="newDSX.1.7.0.2.js"></script><!--  dr.sax.js library for saxophone -->

    <script>

alert(DSX.get("Helow Dr.SAX!"));

var DSX = new DSX; // init Object setting
var mainout = new DSX.Amp({ gain: 0.9}); // amp out


var saxInput =new DSX.Mic(); // mic input 

var gain = new DSX.Amp({ gain: 0.9}); // amp out
var gain2 = new DSX.Amp({ gain: 0.9}); // amp out
var gain3 = new DSX.Amp({ gain: 0.9}); // amp out
var gain4 = new DSX.Amp({ gain: 0.9}); // amp out
var gain5= new DSX.Amp({ gain: 0.9}); // amp out
var gain6 = new DSX.Amp({ gain: 0.9}); // amp out
var gain7 = new DSX.Amp({ gain: 0.9}); // amp out
var gain8 = new DSX.Amp({ gain: 0.9}); // amp out
var gain9 = new DSX.Amp({ gain: 0.9}); // amp out
var gain10 = new DSX.Amp({ gain: 0.9}); // amp out
var mixgain = new DSX.Amp({ gain: 0.9}); // amp out
var bypassgain = new DSX.Amp({ gain: 0.9}); // amp out
var saxgain = new DSX.Aux({ gain: 0.9}); // amp out

////saxophone input ////////////
var saxOnoff =new DSX.functionChange("saxmic_on",sax_on_data);// sax input on/off control
var sax_Inputgain =new DSX.valueChange("saxmic_gain",saxgain.gain); // sax input gainon control

  function sax_on_data(e) {

     saxInput.connect(saxgain);

    if (e.target.value == "1") {
        saxgain.connect(gain);
        saxgain.gain.value =0.7;
        tune.getAnalyser(saxgain);

sax_canvas_freq.getAnalyser(saxgain); 



        }
    if (e.target.value == "0") {
         //saxInput.connect(saxgain);
         //saxgain.gain.value =0;
         saxgain.disconnect(0);
        }
                          }

////////////recorder//////////////

      var recorder;

         var gain_1 = drsax.createGain();
         var gain_2 = drsax.createGain();




        function startRecording() {
        
           gain8.connect(gain_1);
            gain_2.connect(gain9)
             recorder = new DSX.Record(gain_1,gain_2);
       
            recorder.record();

 
   
               
        }

        function stopRecording(button) {
   
           
            recorder.stop();
   
 
        
            createDownloadLink();

            recorder.clear();
        }
          var li ;
          var hf;
        function createDownloadLink() {
            console.log('createDownload Fired!');
            //convert buffer to wav file
            recorder.exportWAV(function(root) {
                var url = URL.createObjectURL(root);
                    li = document.createElement('li');
                var au = document.createElement('audio');
                 hf = document.createElement('a');

                au.controls = true;
                au.src = URL.createObjectURL(root);
                hf.href = URL.createObjectURL(root);
                hf.download = new Date().getSeconds()+ '.wav';
                hf.innerHTML = hf.download;
                li.appendChild(au);
                li.appendChild(hf);
                recordingslist.appendChild(li);
            });
        };



        function stop(button) {
 

   li.removeChild(li.childNodes[0]);
   hf.removeChild(hf.childNodes[0]);

        }


//// recorder out   /////

//// EQ SYSTEM    /////

var newEQ = new  DSX.EQ({hiGain:-10, mhiGain:-10, miGain:-10, milowGain:-10, lowGain:-10});
var sax_EQ1 =new DSX.valueChange("EQ5",newEQ.hiGain); 
var sax_EQ2 =new DSX.valueChange("EQ4",newEQ.mhiGain); 
var sax_EQ3 =new DSX.valueChange("EQ3",newEQ.miGain); 
var sax_EQ4 =new DSX.valueChange("EQ2",newEQ.milowGain); 
var sax_EQ5 =new DSX.valueChange("EQ1",newEQ.lowGain); 
var eqTogle =new DSX.functionChange('eqbypass',eq); 


function eq(e){


 if (e.target.value == "1") {
    gain.disconnect(0)
    gain.connect(newEQ);
    newEQ.connect(gain2);

        }
    if (e.target.value == "0") {
    gain.disconnect(0)
    gain.connect(gain2);


        }

}

//// EQ SYSTEM    /////

//// Compressor SYSTEM    /////

var saxComp = new DSX.saxComp({ threshold: -70,  ratio: 12, });

var sax_Comp1 =new DSX.valueChange("Comp1",saxComp.threshold); 
var sax_Comp2 =new DSX.valueChange("Comp2",saxComp.reduction); 

var sax_Comp3 =new DSX.valueChange("Comp3",saxComp.knee); 
var sax_Comp4 =new DSX.valueChange("Comp4",saxComp.ratio); 

var sax_Comp5 =new DSX.valueChange("Comp5",saxComp.attack); 
var sax_Comp6 =new DSX.valueChange("Comp6",saxComp.release); 

var compTogle =new DSX.functionChange('compbypass',comp); 


function comp(e){


 if (e.target.value == "1") {
    gain2.disconnect(0)
    gain2.connect(saxComp);
    saxComp.connect(gain3);

        }
    if (e.target.value == "0") {
    gain2.disconnect(0)
    gain2.connect(gain3);


        }

}

//// Compressor SYSTEM    /////

//// delay SYSTEM    /////

var saxDelay = new DSX.Delay({ delayTime : 200, feedback: 0.45, });



var sax_delay =new DSX.valueChange("delay_time",saxDelay.delayTime ); 
var sax_feedback =new DSX.valueChange("feed_back",saxDelay.feedback); 

var saxReverb =new DSX.Reverb({gain:0.6});
var sax_reverbtime =new DSX.valueChange("reverbtime",saxReverb.gain); 


var bypassDelay =new DSX.functionChange('delaybypass',delaydata); 

function delaydata(e){


 if (e.target.value == "1") {
    gain6.disconnect(0)
    gain7.disconnect(0)
    gain6.connect(saxDelay);
    saxDelay.connect(gain7);

    saxReverb.getfrom(gain7);
    saxReverb.connect(gain8);



        }
    if (e.target.value == "0") {
    gain6.disconnect(0)
    gain7.disconnect();
    gain6.connect(gain7); //delay reconnect


    saxReverb.disconnect();//reverb reconnect
    gain7.connect(gain8);


        }

}
//// delay SYSTEM    /////
 

//// panning system   /////

var saxPan = new DSX.stereoPan({ pan: 0,});
var sax_pan_ =new DSX.valueChange("pann",saxPan.pan); 

//// panning system   /////


saxgain.connect(gain);
gain.connect(gain2); //eq
gain2.connect(gain3); //comp

gain3.connect(gain4); //shift effect
gain4.connect(gain5);

gain5.connect(gain6);
gain6.connect(gain7);//delay
gain7.connect(gain8);//reverb
gain8.connect(gain9);
gain9.connect(gain10);
gain10.connect(mixgain);
mixgain.connect(saxPan);//saxpan
saxPan.connect(mainout);
mainout.connect(DAC); //connet main out


var sax_main_out =new DSX.valueChange("mainout_dail",mainout.gain); 


//////////////visual/////////

var sax_canvas_freq =new DSX.freqDomain('saxcanvas',"red");// canvas and color
sax_canvas_freq.getAnalyser(saxgain); 
//////////////Visual/////////


//////////////Tunner/////////
var tune =new DSX.Tunner("pitch","note");
tune.getAnalyser(saxgain);

//////////////Tape BG/////////


var playing =new DSX.musicPlayer();
playing.load("mF","sound11");

function saa(){
sound11.playbackRate =1.5;
sound11.volume =1;
}
function saa1(){
sound11.playbackRate =1;
sound11.play();
}

//////////////pitchShift//////////////

        var shift_one= new DSX.pitchShift(0.7,1.1);
        var shift_two= new DSX.pitchShift(0.6,0.8);
    var am2 = new  DSX.AM({mod_type :"sine",modfreq:500,depth:0.7,gain:0.5});
var am3 = new  DSX.AM({mod_type :"sine",modfreq:300,depth:0.9,gain:0.5});


        var shiftdelay_one = new DSX.DelayPipe({delayTime:1});
        var shiftdelay_two = new DSX.DelayPipe({delayTime:2});
        var shiftdelay_tree = new DSX.DelayPipe({delayTime:3});
        var shiftdelay_four = new DSX.DelayPipe({delayTime:4});
     
   


var bypassShift =new DSX.functionChange('shiftbypass',shiftdata); 

function shiftdata(e){


 if (e.target.value == "1") {
    gain4.disconnect(0)

       shift_one.get(gain4);
        shift_one.connect(shiftdelay_one);
        shiftdelay_one.connect(gain5);
   
        shift_two.get(gain4);
        shift_two.connect(shiftdelay_two);
        shiftdelay_two.connect(gain5);
   

        am2.get(gain4);
        am2.connect(shiftdelay_tree);
       shiftdelay_tree.connect(gain5);
  

        am3.get(gain4);
      am3.connect(shiftdelay_four);
       shiftdelay_four.connect(gain5);
  


        }
    if (e.target.value == "0") {
    gain4.disconnect(0)
    gain4.connect(gain5); //delay reconnect

        }

}
var shift_one_data_ =new DSX.valueChange("shift1",shiftdelay_one.delayTime); 
var shift_two_data_ =new DSX.valueChange("shift2",shiftdelay_two.delayTime); 
var shift_tree_data_ =new DSX.valueChange("shift3",shiftdelay_tree.delayTime); 
var shift_four_data_ =new DSX.valueChange("shift4",shiftdelay_four.delayTime); 


////////////var ///////////
var am = new  DSX.AM({mod_type :"sine",modfreq:200,depth:0.5,gain:0.5});

var sax_am2 =new DSX.valueChange("am2",am.modfreq); 
var sax_am3 =new DSX.valueChange("am3",am.depth); 
var sax_am4 =new DSX.valueChange("am4",am.gain); 



var bypassAm =new DSX.functionChange('shiftAm',shiftAmdata); 

function shiftAmdata(e){


 if (e.target.value == "1") {
 gain8.disconnect();   
am.get(gain8)
am.connect(gain9)



        }
    if (e.target.value == "0") {
         gain8.connect(gain9); 
 am.stop();

        }

}







    </script>





    <script>
  
        var switch3 = document.getElementById("switch3");
        switch3.addEventListener("change", da, false);

        function da(e) {
             if (e.target.value == "1") {
                openNav();
            }
             if (e.target.value == "0") {
              
               }
             }

        function openNav() {
            document.getElementById("myNav").style.width = "100%";
        }

        function closeNav() {
            document.getElementById("myNav").style.width = "0%";
        }
    </script>


</body>


</html>
